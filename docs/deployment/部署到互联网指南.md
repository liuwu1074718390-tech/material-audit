# æä»·å®¡è®¡ç³»ç»Ÿ - äº’è”ç½‘éƒ¨ç½²æŒ‡å—

## ğŸš€ å¿«é€Ÿéƒ¨ç½²æ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€ï¼šVercel éƒ¨ç½²ï¼ˆæ¨èï¼Œæœ€ç®€å•ï¼‰

Vercel å¯¹ Nuxt 3 é¡¹ç›®æœ‰å¾ˆå¥½çš„æ”¯æŒï¼Œå¯ä»¥å…è´¹éƒ¨ç½²ã€‚

#### æ­¥éª¤ï¼š

1. **å‡†å¤‡ä»£ç **
   ```bash
   # ç¡®ä¿ä»£ç å·²æäº¤åˆ° Git ä»“åº“ï¼ˆGitHub/GitLabï¼‰
   git add .
   git commit -m "å‡†å¤‡éƒ¨ç½²"
   git push
   ```

2. **è®¿é—® Vercel**
   - æ‰“å¼€ https://vercel.com
   - ä½¿ç”¨ GitHub/GitLab è´¦å·ç™»å½•

3. **å¯¼å…¥é¡¹ç›®**
   - ç‚¹å‡» "New Project"
   - é€‰æ‹©ä½ çš„ä»£ç ä»“åº“
   - æ¡†æ¶é¢„è®¾é€‰æ‹© "Nuxt.js"

4. **é…ç½®ç¯å¢ƒå˜é‡**
   åœ¨ Vercel é¡¹ç›®è®¾ç½®ä¸­æ·»åŠ ï¼š
   ```
   DIFY_API_KEY=ä½ çš„Difyå¯†é’¥
   DIFY_API_URL=ä½ çš„Difyåœ°å€
   DB_HOST=æ•°æ®åº“åœ°å€
   DB_PORT=3306
   DB_USER=æ•°æ®åº“ç”¨æˆ·
   DB_PASSWORD=æ•°æ®åº“å¯†ç 
   DB_NAME=æ•°æ®åº“åç§°
   ```

5. **éƒ¨ç½²**
   - ç‚¹å‡» "Deploy"
   - ç­‰å¾…éƒ¨ç½²å®Œæˆ
   - è·å¾—ç±»ä¼¼ `https://your-project.vercel.app` çš„é“¾æ¥

#### ä¼˜ç‚¹ï¼š
- âœ… å…è´¹é¢åº¦å……è¶³
- âœ… è‡ªåŠ¨ HTTPS
- âœ… å…¨çƒ CDN åŠ é€Ÿ
- âœ… è‡ªåŠ¨éƒ¨ç½²ï¼ˆGit Push å³éƒ¨ç½²ï¼‰

---

### æ–¹æ¡ˆäºŒï¼šRailway éƒ¨ç½²

Railway æä¾›ç®€å•çš„éƒ¨ç½²ä½“éªŒï¼Œæ”¯æŒ Dockerã€‚

#### æ­¥éª¤ï¼š

1. **è®¿é—® Railway**
   - æ‰“å¼€ https://railway.app
   - ä½¿ç”¨ GitHub è´¦å·ç™»å½•

2. **åˆ›å»ºé¡¹ç›®**
   - ç‚¹å‡» "New Project"
   - é€‰æ‹© "Deploy from GitHub repo"
   - é€‰æ‹©ä½ çš„ä»“åº“

3. **é…ç½®ç¯å¢ƒå˜é‡**
   - åœ¨é¡¹ç›®è®¾ç½®ä¸­æ·»åŠ æ‰€æœ‰ç¯å¢ƒå˜é‡

4. **éƒ¨ç½²**
   - Railway ä¼šè‡ªåŠ¨æ£€æµ‹ Dockerfile å¹¶éƒ¨ç½²
   - è·å¾—ç±»ä¼¼ `https://your-project.up.railway.app` çš„é“¾æ¥

#### ä¼˜ç‚¹ï¼š
- âœ… æ”¯æŒ Docker
- âœ… è‡ªåŠ¨ HTTPS
- âœ… ç®€å•æ˜“ç”¨

---

### æ–¹æ¡ˆä¸‰ï¼šè…¾è®¯äº‘/é˜¿é‡Œäº‘æœåŠ¡å™¨éƒ¨ç½²

å¦‚æœä½ æœ‰è‡ªå·±çš„æœåŠ¡å™¨ï¼Œå¯ä»¥è¿™æ ·éƒ¨ç½²ï¼š

#### æ­¥éª¤ï¼š

1. **å‡†å¤‡æœåŠ¡å™¨**
   ```bash
   # è¿æ¥åˆ°æœåŠ¡å™¨
   ssh user@your-server-ip
   
   # å®‰è£… Node.js 18+
   curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
   sudo apt-get install -y nodejs
   
   # å®‰è£… PM2
   sudo npm install -g pm2
   ```

2. **éƒ¨ç½²ä»£ç **
   ```bash
   # å…‹éš†ä»£ç 
   git clone your-repo-url
   cd æä»·å®¡è®¡
   
   # å®‰è£…ä¾èµ–
   npm install
   
   # æ„å»ºé¡¹ç›®
   npm run build
   
   # ä½¿ç”¨ PM2 å¯åŠ¨
   pm2 start .output/server/index.mjs --name material-audit
   pm2 save
   pm2 startup
   ```

3. **é…ç½® Nginxï¼ˆå¯é€‰ï¼‰**
   ```nginx
   server {
       listen 80;
       server_name your-domain.com;
       
       location / {
           proxy_pass http://localhost:3000;
           proxy_http_version 1.1;
           proxy_set_header Upgrade $http_upgrade;
           proxy_set_header Connection 'upgrade';
           proxy_set_header Host $host;
           proxy_cache_bypass $http_upgrade;
       }
   }
   ```

4. **é…ç½®åŸŸå**
   - åœ¨åŸŸåæœåŠ¡å•†å¤„æ·»åŠ  A è®°å½•æŒ‡å‘æœåŠ¡å™¨ IP
   - é…ç½® SSL è¯ä¹¦ï¼ˆLet's Encrypt å…è´¹ï¼‰

---

### æ–¹æ¡ˆå››ï¼šDocker + äº‘æœåŠ¡éƒ¨ç½²

#### ä½¿ç”¨ Docker Hub + äº‘æœåŠ¡å™¨ï¼š

1. **æ„å»ºå¹¶æ¨é€é•œåƒ**
   ```bash
   # æ„å»ºé•œåƒ
   docker build -t your-username/material-audit:latest .
   
   # ç™»å½• Docker Hub
   docker login
   
   # æ¨é€é•œåƒ
   docker push your-username/material-audit:latest
   ```

2. **åœ¨æœåŠ¡å™¨ä¸Šè¿è¡Œ**
   ```bash
   docker run -d \
     -p 3000:3000 \
     -e DIFY_API_KEY=your_key \
     -e DIFY_API_URL=your_url \
     --name material-audit \
     your-username/material-audit:latest
   ```

---

## ğŸ“‹ éƒ¨ç½²å‰æ£€æŸ¥æ¸…å•

- [ ] ä»£ç å·²æäº¤åˆ° Git ä»“åº“
- [ ] ç¯å¢ƒå˜é‡å·²é…ç½®ï¼ˆDify APIã€æ•°æ®åº“ç­‰ï¼‰
- [ ] æ•°æ®åº“å·²åˆ›å»ºå¹¶é…ç½®
- [ ] `.env` æ–‡ä»¶å·²æ·»åŠ åˆ° `.gitignore`
- [ ] æµ‹è¯•æœ¬åœ°æ„å»ºï¼š`npm run build`

---

## ğŸ”— è·å–è®¿é—®é“¾æ¥

éƒ¨ç½²å®Œæˆåï¼Œä½ ä¼šè·å¾—ï¼š

- **Vercel**: `https://your-project.vercel.app`
- **Railway**: `https://your-project.up.railway.app`
- **è‡ªå®šä¹‰åŸŸå**: `https://your-domain.com`

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **ç¯å¢ƒå˜é‡å®‰å…¨**
   - ä¸è¦å°† `.env` æ–‡ä»¶æäº¤åˆ°ä»£ç ä»“åº“
   - åœ¨éƒ¨ç½²å¹³å°é…ç½®ç¯å¢ƒå˜é‡

2. **æ•°æ®åº“è¿æ¥**
   - ç¡®ä¿æ•°æ®åº“å…è®¸å¤–éƒ¨è¿æ¥
   - ä½¿ç”¨å¼ºå¯†ç 
   - è€ƒè™‘ä½¿ç”¨äº‘æ•°æ®åº“æœåŠ¡

3. **HTTPS**
   - ç”Ÿäº§ç¯å¢ƒå¿…é¡»ä½¿ç”¨ HTTPS
   - å¤§å¤šæ•°å¹³å°è‡ªåŠ¨æä¾› HTTPS

4. **æ€§èƒ½ä¼˜åŒ–**
   - å¯ç”¨ CDN
   - é…ç½®ç¼“å­˜ç­–ç•¥
   - ç›‘æ§èµ„æºä½¿ç”¨

---

## ğŸ†˜ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ï¼š
1. æŸ¥çœ‹é¡¹ç›®æ–‡æ¡£ï¼š`docs/DEPLOYMENT.md`
2. æ£€æŸ¥æœåŠ¡å™¨æ—¥å¿—
3. æŸ¥çœ‹å¹³å°éƒ¨ç½²æ—¥å¿—

---

## ğŸ’¡ æ¨èæ–¹æ¡ˆ

**å¯¹äºå¿«é€Ÿéƒ¨ç½²**ï¼šä½¿ç”¨ **Vercel**ï¼ˆæœ€ç®€å•ï¼Œå…è´¹ï¼‰
**å¯¹äºéœ€è¦æ›´å¤šæ§åˆ¶**ï¼šä½¿ç”¨ **Railway** æˆ–è‡ªå·±çš„æœåŠ¡å™¨
**å¯¹äºä¼ä¸šçº§**ï¼šä½¿ç”¨ **è…¾è®¯äº‘/é˜¿é‡Œäº‘** ç­‰äº‘æœåŠ¡

