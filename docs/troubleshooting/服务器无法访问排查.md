# 服务器无法访问排查

## 问题
服务器显示已启动，但 `http://localhost:3000` 打不开。

## 排查步骤

### 步骤 1: 确认服务器是否真的在运行

在终端运行：
```bash
lsof -i :3000
```

如果看到进程，说明服务器在运行。

### 步骤 2: 测试本地连接

在终端运行：
```bash
curl http://localhost:3000
```

如果返回 HTML 内容，说明服务器正常。

### 步骤 3: 检查浏览器

1. **清除浏览器缓存**：
   - Chrome/Edge: `Ctrl+Shift+Delete` (Windows) 或 `Cmd+Shift+Delete` (Mac)
   - 清除缓存和 Cookie

2. **尝试无痕模式**：
   - Chrome/Edge: `Ctrl+Shift+N` (Windows) 或 `Cmd+Shift+N` (Mac)

3. **尝试其他浏览器**：
   - 如果 Chrome 不行，试试 Safari 或 Firefox

### 步骤 4: 检查防火墙

macOS 可能阻止了本地连接。检查：
1. 系统设置 > 网络 > 防火墙
2. 确保允许本地连接

### 步骤 5: 尝试其他端口

如果 3000 端口有问题，可以尝试：
```bash
PORT=3001 npm run dev
```

然后访问 `http://localhost:3001`

### 步骤 6: 查看完整错误

如果浏览器显示错误，查看：
1. 浏览器开发者工具（F12）
2. Console 标签中的错误信息
3. Network 标签中的请求状态

## 快速测试

运行以下命令测试服务器：

```bash
# 测试服务器是否响应
curl http://localhost:3000

# 测试 API
curl http://localhost:3000/api/health/db
```

如果这些命令能返回内容，说明服务器正常，问题可能在浏览器端。

