# ğŸš€ EdgeOne 404 é”™è¯¯å¿«é€Ÿä¿®å¤

## âœ… å·²å®Œæˆçš„ä¿®å¤

å·²åˆ›å»ºä»¥ä¸‹æ–‡ä»¶æ¥è§£å†³ 404 é—®é¢˜ï¼š

1. âœ… `public/_redirects` - Netlify/é™æ€æœåŠ¡å™¨é‡å®šå‘è§„åˆ™
2. âœ… `.htaccess` - Apache æœåŠ¡å™¨é…ç½®
3. âœ… `nginx.conf` - Nginx æœåŠ¡å™¨é…ç½®ç¤ºä¾‹

## ğŸ”§ å¿«é€Ÿä¿®å¤æ­¥éª¤

### æ­¥éª¤ 1: é‡æ–°æ„å»ºé¡¹ç›®

```bash
# æ¸…ç†æ—§çš„æ„å»º
rm -rf .output

# é‡æ–°æ„å»ºï¼ˆä¼šåŒ…å« _redirects æ–‡ä»¶ï¼‰
npm run build

# æ£€æŸ¥æ„å»ºè¾“å‡º
ls -la .output/public/
```

### æ­¥éª¤ 2: åœ¨ EdgeOne é…ç½®é‡å®šå‘

æ ¹æ® EdgeOne çš„éƒ¨ç½²æ–¹å¼é€‰æ‹©ï¼š

#### æ–¹å¼ A: é™æ€æ–‡ä»¶æ‰˜ç®¡

å¦‚æœ EdgeOne æ˜¯é™æ€æ–‡ä»¶æ‰˜ç®¡ï¼š
1. **ä¸Šä¼  `.output/public` ç›®å½•çš„å†…å®¹**åˆ° EdgeOne
2. **ç¡®è®¤ `_redirects` æ–‡ä»¶å·²ä¸Šä¼ **
3. **åœ¨ EdgeOne æ§åˆ¶å°é…ç½® SPA fallback**ï¼š
   - æ‰€æœ‰è·¯ç”±ï¼ˆé™¤ API å’Œé™æ€èµ„æºï¼‰é‡å®šå‘åˆ° `/index.html`

#### æ–¹å¼ B: æœåŠ¡å™¨éƒ¨ç½² + Nginx

å¦‚æœåº”ç”¨éƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šï¼š
1. **ä½¿ç”¨æä¾›çš„ `nginx.conf` é…ç½®**
2. **ä¿®æ”¹è·¯å¾„**ï¼š`root /path/to/your/app/.output/public;`
3. **é‡æ–°åŠ è½½ Nginx**ï¼š`nginx -s reload`

#### æ–¹å¼ C: æœåŠ¡å™¨éƒ¨ç½² + Apache

å¦‚æœä½¿ç”¨ Apacheï¼š
1. **å°† `.htaccess` æ–‡ä»¶å¤åˆ¶åˆ° `.output/public` ç›®å½•**
2. **ç¡®ä¿ Apache å¯ç”¨äº† `mod_rewrite` æ¨¡å—**

### æ­¥éª¤ 3: åœ¨ EdgeOne æ§åˆ¶å°é…ç½®

å¦‚æœ EdgeOne æ”¯æŒè‡ªå®šä¹‰é‡å®šå‘è§„åˆ™ï¼Œé…ç½®ä»¥ä¸‹è§„åˆ™ï¼š

```
è§„åˆ™1: API è·¯ç”±ä¿æŒä¸å˜
  è·¯å¾„: /api/*
  åŠ¨ä½œ: ä¿æŒä¸å˜ (200)

è§„åˆ™2: é™æ€èµ„æºä¿æŒä¸å˜
  è·¯å¾„: /_nuxt/*
  åŠ¨ä½œ: ä¿æŒä¸å˜ (200)
  
è§„åˆ™3: å…¶ä»–æ‰€æœ‰è·¯ç”±
  è·¯å¾„: /*
  ç›®æ ‡: /index.html
  çŠ¶æ€ç : 200
```

## ğŸ“‹ EdgeOne é…ç½®æ£€æŸ¥æ¸…å•

- [ ] å‘å¸ƒç›®å½•è®¾ç½®ä¸º `.output/public`
- [ ] ä¸Šä¼ çš„æ–‡ä»¶åŒ…å« `index.html`
- [ ] `_redirects` æ–‡ä»¶å·²ä¸Šä¼ ï¼ˆå¦‚æœæ”¯æŒï¼‰
- [ ] åœ¨ EdgeOne æ§åˆ¶å°é…ç½®äº† SPA fallback è§„åˆ™
- [ ] æˆ–é…ç½®äº† Nginx/Apache åå‘ä»£ç†

## ğŸ§ª éªŒè¯

ä¿®å¤åè®¿é—®ï¼š
- âœ… `https://your-domain.com/` - ä¸»é¡µ
- âœ… `https://your-domain.com/health` - å…¶ä»–è·¯ç”±
- âœ… `https://your-domain.com/api/health/db` - API è·¯ç”±

## ğŸ’¡ å¦‚æœ EdgeOne ä¸æ”¯æŒ _redirects

å¦‚æœ EdgeOne ä¸æ”¯æŒ `_redirects` æ–‡ä»¶ï¼Œéœ€è¦ï¼š

1. **åœ¨ EdgeOne æ§åˆ¶å°æ‰‹åŠ¨é…ç½®é‡å®šå‘è§„åˆ™**
2. **æˆ–ä½¿ç”¨æœåŠ¡å™¨ç«¯é…ç½®**ï¼ˆNginx/Apacheï¼‰
3. **æˆ–è”ç³» EdgeOne æŠ€æœ¯æ”¯æŒ**äº†è§£ SPA åº”ç”¨çš„æ­£ç¡®é…ç½®æ–¹æ³•

## ğŸ†˜ ä»ç„¶æœ‰é—®é¢˜ï¼Ÿ

1. **æ£€æŸ¥æ„å»ºè¾“å‡º**ï¼š
   ```bash
   cat .output/public/index.html
   ls -la .output/public/
   ```

2. **æµ‹è¯•æœ¬åœ°é¢„è§ˆ**ï¼š
   ```bash
   npm run preview
   # è®¿é—® http://localhost:3000
   ```

3. **æŸ¥çœ‹ EdgeOne æ—¥å¿—**ï¼š
   - æ£€æŸ¥è¯·æ±‚è·¯å¾„
   - æŸ¥çœ‹ 404 çš„å…·ä½“åŸå› 




