/**
 * 城市编码映射
 * 从 biz_district.sql 提取的城市编码数据
 */

export interface CityCodeItem {
  ad_code: string
  parent_ad_code: string
  name: string
  level: 'province' | 'city' | 'district'
}

// 城市编码映射表
export const CITY_CODE_MAP: Record<string, string> = {
  // 省级
  '北京市': '11',
  '天津市': '12',
  '河北省': '13',
  '山西省': '14',
  '内蒙古自治区': '15',
  '辽宁省': '21',
  '吉林省': '22',
  '黑龙江省': '23',
  '上海市': '31',
  '江苏省': '32',
  '浙江省': '33',
  '安徽省': '34',
  '福建省': '35',
  '江西省': '36',
  '山东省': '37',
  '河南省': '41',
  '湖北省': '42',
  '湖南省': '43',
  '广东省': '44',
  '广西壮族自治区': '45',
  '海南省': '46',
  '重庆市': '50',
  '四川省': '51',
  '贵州省': '52',
  '云南省': '53',
  '西藏自治区': '54',
  '陕西省': '61',
  '甘肃省': '62',
  '青海省': '63',
  '宁夏回族自治区': '64',
  '新疆维吾尔自治区': '65',
  
  // 北京市
  '东城区': '110101',
  '西城区': '110102',
  '朝阳区': '110105',
  '丰台区': '110106',
  '石景山区': '110107',
  '海淀区': '110108',
  '门头沟区': '110109',
  '房山区': '110111',
  '通州区': '110112',
  '顺义区': '110113',
  '昌平区': '110114',
  '大兴区': '110115',
  '怀柔区': '110116',
  '平谷区': '110117',
  '密云区': '110118',
  '延庆区': '110119',
  
  // 天津市
  '和平区': '120101',
  '河东区': '120102',
  '河西区': '120103',
  '南开区': '120104',
  '河北区': '120105',
  '红桥区': '120106',
  '东丽区': '120110',
  '西青区': '120111',
  '津南区': '120112',
  '北辰区': '120113',
  '武清区': '120114',
  '宝坻区': '120115',
  '滨海新区': '120116',
  '宁河区': '120117',
  '静海区': '120118',
  '蓟州区': '120119',
  
  // 上海市
  '黄浦区': '310101',
  '徐汇区': '310104',
  '长宁区': '310105',
  '静安区': '310106',
  '普陀区': '310107',
  '虹口区': '310109',
  '杨浦区': '310110',
  '闵行区': '310112',
  '宝山区': '310113',
  '嘉定区': '310114',
  '浦东新区': '310115',
  '金山区': '310116',
  '松江区': '310117',
  '青浦区': '310118',
  '奉贤区': '310120',
  '崇明区': '310151',
  
  // 广东省主要城市
  '广州市': '4401',
  '深圳市': '4403',
  '珠海市': '4404',
  '汕头市': '4405',
  '佛山市': '4406',
  '韶关市': '4402',
  '湛江市': '4408',
  '肇庆市': '4412',
  '江门市': '4407',
  '茂名市': '4409',
  '惠州市': '4413',
  '梅州市': '4414',
  '汕尾市': '4415',
  '河源市': '4416',
  '阳江市': '4417',
  '清远市': '4418',
  '东莞市': '4419',
  '中山市': '4420',
  '潮州市': '4451',
  '揭阳市': '4452',
  '云浮市': '4453',
  
  // 重庆市
  '万州区': '500101',
  '涪陵区': '500102',
  '渝中区': '500103',
  '大渡口区': '500104',
  '江北区': '500105',
  '沙坪坝区': '500106',
  '九龙坡区': '500107',
  '南岸区': '500108',
  '北碚区': '500109',
  '綦江区': '500110',
  '大足区': '500111',
  '渝北区': '500112',
  '巴南区': '500113',
  '黔江区': '500114',
  '长寿区': '500115',
  '江津区': '500116',
  '合川区': '500117',
  '永川区': '500118',
  '南川区': '500119',
}

/**
 * 根据地区名称获取编码
 * @param regionName 地区名称（省或市）
 * @returns 地区编码
 */
export function getCityCode(regionName: string | string[] | undefined): string | undefined {
  if (!regionName) return undefined
  
  // 如果是数组，取最后一个（最具体的地区）
  const name = Array.isArray(regionName) ? regionName[regionName.length - 1] : regionName
  
  return CITY_CODE_MAP[name]
}

